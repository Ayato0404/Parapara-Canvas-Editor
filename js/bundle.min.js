!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){var t=c.getFrameById(e);t.addEventListener("mousedown",i),t.addEventListener("mouseup",r),t.addEventListener("mousemove",s)}function i(e){d.hideMenu(),d.toggleOpenMenuButton(!1),v=!0,f={x:e.clientX,y:e.clientY}}function r(){d.toggleOpenMenuButton(!0),v=!1}function s(e){v&&("white"===a.color?c.getCurrentFrame().eraseByLine(f,{x:e.clientX,y:e.clientY},u.lineWidth):c.getCurrentFrame().drawLine(f,{x:e.clientX,y:e.clientY},a.color,u.lineWidth),f={x:e.clientX,y:e.clientY})}var c,a,u,d,l=n(1),m=n(2),p=n(3),h=n(4);document.addEventListener("DOMContentLoaded",function(){var e=0;c=new m(document.getElementById("frames")),c.append(e,new l(0)),o(e),c.setCurrentFrame(e),a=new p.ColorPicker(document.getElementById("menu-colors"),"red"),u=new p.LineWidthPicker(document.getElementById("menu-line-width"),10),d=new h,document.getElementById("menu-side-btn").addEventListener("click",function(){d.toggleMenu()})});var v=!1,f={}},function(e,t){"use strict";function n(e){var t=document.createElement("canvas");t.width=window.innerWidth,t.height=window.innerHeight,t.id="canvas"+e,this.canvasElement=t,this.canvasContext=this.canvasElement.getContext("2d"),this.thumbnail=null}n.prototype.drawLine=function(e,t,n,o){this.canvasContext.strokeStyle=n,this.canvasContext.lineWidth=o,this.canvasContext.beginPath(),this.canvasContext.moveTo(e.x,e.y),this.canvasContext.lineTo(t.x,t.y),this.canvasContext.lineCap="round",this.canvasContext.stroke()},n.prototype.eraseByLine=function(e,t,n){this.canvasContext.globalCompositeOperation="destination-out",this.drawLine(e,t,"#000",n),this.canvasContext.globalCompositeOperation="source-over"},n.prototype.addEventListener=function(e,t){this.canvasElement.addEventListener(e,t)},e.exports=n},function(e,t,n){"use strict";function o(e){this.element=e,this.frames=[],this.currentFrameId=0}var i=n(1);o.prototype.append=function(e,t){if(!(t instanceof i))throw new Error("FrameServerに追加しようとしたFrameは不正です。:"+t);this.element.appendChild(t.canvasElement),this.frames.push(t)},o.prototype.remove=function(){},o.prototype.setCurrentFrame=function(e){this.currentFrameId=e,null!==document.querySelector(".current-canvas")&&document.querySelector(".current-canvas").classList.remove("current-canvas"),this.getCurrentFrame().canvasElement.classList.add("current-canvas")},o.prototype.getFrameById=function(e){return this.frames[e]},o.prototype.getCurrentFrame=function(){return this.frames[this.currentFrameId]},e.exports=o},function(e,t){"use strict";function n(e,t){var n=this;this.element=e,this.color=t,Array.prototype.forEach.call(this.element.childNodes,function(e){e.addEventListener("click",function(e){n.color=e.target.style.backgroundColor})})}function o(e,t){var n=this;this.element=e,this.lineWidth=t,this.element.addEventListener("change",function(e){n.lineWidth=e.target.value})}n.prototype.addColorUI=function(e){},o.prototype.changeMaxLineWidth=function(e){},o.prototype.changeMinLineWidth=function(e){},e.exports={ColorPicker:n,LineWidthPicker:o}},function(e,t){"use strict";function n(){}n.prototype.toggleMenu=function(){document.getElementById("menu").classList.toggle("menu-open")},n.prototype.openMenu=function(){document.getElementById("menu").classList.add("menu-open")},n.prototype.hideMenu=function(){document.getElementById("menu").classList.remove("menu-open")},n.prototype.toggleOpenMenuButton=function(e){document.getElementById("menu-side-btn").style.display=e?"block":"none"},e.exports=n}]);